## Activity Tracking

This node accepts camera frame events generated by the [cameras](../../HardwareDevices/Camera/camera.md) is used to compute motion activity or motion energy within a region of interest. Specifically, a background subtraction is performed on the input camera frames bsaed ona  single frame history, and the raw sum of absolute pixel intensity changes computed. 
This is a useful measure of general activity particularly useful differentiating periods of static inactivity (such as sleep) and static activity (such as grooming). 
Create a `GroupWorkflow` and add an `ActivityTracking (Aeon.Acquisition)` node. Connect to the `WorkflowOutput`. Subscribe to the target camera's frameEvents `Subject` and connect it. 

![ActivityTracking](./Workflows/activityTracking.svg)

The node computes and returns a timestamped `double` describing the raw, frame-by-frame pixel intensity changes within the region of interest, and publishes the result to a `Subject`

### **Properties of ActivityTracking node**

### ***General (Misc)***

| **Property Name**  | **Description**                                             |
|--------------------|-------------------------------------------------------------|
| **Region**         | An array of four `OpenCV.NET.Points`. These define the corners (anticlockwise from top left) of the region of interest     |
| **ThresholdValue** | The lower threshold for pixel intensity differences to be included in the sum activity. Should be set to the pixel noise. |

### ***Subject names:***
Events with the results from this node are published to a `Subject` to make it available anywhere in the workflow. Here in the properties, you define the name of these `Subject`s 

### **Subjects**

#### **Device Event Subject**:
| **Subject Name**     | **Type** | **Description**                                                  |
|----------------------|----------------------------|--------------------------------------------------|
| **TrackingEvents**   | `Harp.Timestamped<double>` | The `Subject` to which the result describing absolute changes in pixel intensities will be published to |

As with `InRange`, more than one region can be defined using mutliple `GroupWorkflows` each containing a seperate instance  of `ActivityTracking`: