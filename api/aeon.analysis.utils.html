<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>aeon.analysis.utils &#8212; aeon_docs 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=039e1c02" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <script src="../_static/documentation_options.js?v=01f34227"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="aeon.schema.core" href="aeon.schema.core.html" />
    <link rel="prev" title="aeon.analysis.plotting" href="aeon.analysis.plotting.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-aeon.analysis.utils">
<span id="aeon-analysis-utils"></span><h1>aeon.analysis.utils<a class="headerlink" href="#module-aeon.analysis.utils" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="aeon.analysis.utils.activepatch">
<span class="sig-prename descclassname"><span class="pre">aeon.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">activepatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wheel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_patch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aeon/analysis/utils.html#activepatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aeon.analysis.utils.activepatch" title="Link to this definition">¶</a></dt>
<dd><p>Computes a decision boundary for when a patch is active based on wheel movement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wheel</strong> (<em>Series</em>) – A pandas Series containing the cumulative distance travelled on the wheel.</p></li>
<li><p><strong>in_patch</strong> (<em>Series</em>) – A Series of type bool containing whether the specified patch may be active.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas Series specifying for each timepoint whether the patch is active.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aeon.analysis.utils.distance">
<span class="sig-prename descclassname"><span class="pre">aeon.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aeon/analysis/utils.html#distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aeon.analysis.utils.distance" title="Link to this definition">¶</a></dt>
<dd><p>Computes the euclidean distance to a specified target.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aeon.analysis.utils.distancetravelled">
<span class="sig-prename descclassname"><span class="pre">aeon.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">distancetravelled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aeon/analysis/utils.html#distancetravelled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aeon.analysis.utils.distancetravelled" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the total distance travelled on the wheel, by taking into account
its radius and the total number of turns in both directions across time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle</strong> (<em>Series</em>) – A series of magnetic encoder measurements.</p></li>
<li><p><strong>radius</strong> (<em>float</em>) – The radius of the wheel, in metric units.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The total distance travelled on the wheel, in metric units.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aeon.analysis.utils.get_events_rates">
<span class="sig-prename descclassname"><span class="pre">aeon.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">get_events_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_len_sec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_len_sec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aeon/analysis/utils.html#get_events_rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aeon.analysis.utils.get_events_rates" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aeon.analysis.utils.rate">
<span class="sig-prename descclassname"><span class="pre">aeon.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aeon/analysis/utils.html#rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aeon.analysis.utils.rate" title="Link to this definition">¶</a></dt>
<dd><p>Computes the continuous event rate from a discrete event sequence, given the specified
window size and sampling frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>Series</em>) – The discrete sequence of events.</p></li>
<li><p><strong>window</strong> (<em>offset</em>) – The time period of each window used to compute the rate.</p></li>
<li><p><strong>frequency</strong> (<em>DateOffset</em><em>, </em><em>Timedelta</em><em> or </em><em>str</em>) – The sampling frequency for the continuous rate.</p></li>
<li><p><strong>weight</strong> (<em>number</em><em>, </em><em>optional</em>) – A weight used to scale the continuous rate of each window.</p></li>
<li><p><strong>start</strong> (<em>datetime</em><em>, </em><em>optional</em>) – The left bound of the time range for the continuous rate.</p></li>
<li><p><strong>end</strong> (<em>datetime</em><em>, </em><em>optional</em>) – The right bound of the time range for the continuous rate.</p></li>
<li><p><strong>smooth</strong> (<em>DateOffset</em><em>, </em><em>Timedelta</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – The size of the smoothing kernel applied to the continuous rate output.</p></li>
<li><p><strong>smooth</strong> – </p></li>
</ul>
</dd>
</dl>
<p>The size of the smoothing kernel applied to the continuous rate output.
:param bool, optional center: Specifies whether to center the convolution kernels.
:return: A Series containing the continuous event rate over time.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aeon.analysis.utils.sessiontime">
<span class="sig-prename descclassname"><span class="pre">aeon.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">sessiontime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aeon/analysis/utils.html#sessiontime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aeon.analysis.utils.sessiontime" title="Link to this definition">¶</a></dt>
<dd><p>Converts absolute to relative time, with optional reference starting time.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="aeon.analysis.utils.visits">
<span class="sig-prename descclassname"><span class="pre">aeon.analysis.utils.</span></span><span class="sig-name descname"><span class="pre">visits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Enter'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Exit'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aeon/analysis/utils.html#visits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#aeon.analysis.utils.visits" title="Link to this definition">¶</a></dt>
<dd><p>Computes duration, onset and offset times from paired events. Allows for missing data
by trying to match event onset times with subsequent offset times. If the match fails,
event offset metadata is filled with NaN. Any additional metadata columns in the data
frame will be paired and included in the output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DataFrame</em>) – A pandas data frame containing visit onset and offset events.</p></li>
<li><p><strong>onset</strong> (<em>str</em><em>, </em><em>optional</em>) – The label used to identify event onsets.</p></li>
<li><p><strong>offset</strong> (<em>str</em><em>, </em><em>optional</em>) – The label used to identify event offsets.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas data frame containing duration and metadata for each visit.</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">aeon_docs</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=SainsburyWellcomeCentre&repo=aeon_docs&type=watch&count=None&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_contract.html">Data Contract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design_considerations.html">Design Considerations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Developer API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aeon.util.html">aeon.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.analysis.movies.html">aeon.analysis.movies</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.analysis.plotting.html">aeon.analysis.plotting</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">aeon.analysis.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.schema.core.html">aeon.schema.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.schema.dataset.html">aeon.schema.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.schema.foraging.html">aeon.schema.foraging</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.schema.octagon.html">aeon.schema.octagon</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.schema.social.html">aeon.schema.social</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.io.api.html">aeon.io.api</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.io.device.html">aeon.io.device</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.io.reader.html">aeon.io.reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="aeon.io.video.html">aeon.io.video</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_practices/dev_practices.html">Development Practices</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">Developer API</a><ul>
      <li>Previous: <a href="aeon.analysis.plotting.html" title="previous chapter">aeon.analysis.plotting</a></li>
      <li>Next: <a href="aeon.schema.core.html" title="next chapter">aeon.schema.core</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022–2023, Jai Bhagat, Goncalo Lopes, Chang Huan Lo.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/api/aeon.analysis.utils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>